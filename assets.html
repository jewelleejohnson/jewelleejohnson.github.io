<script type="module">
  import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.155/build/three.module.js";
  import { OrbitControls } from "https://cdn.jsdelivr.net/npm/three@0.155/examples/jsm/controls/OrbitControls.js";
  import { MTLLoader } from "https://cdn.jsdelivr.net/npm/three@0.155/examples/jsm/loaders/MTLLoader.js";
  import { OBJLoader } from "https://cdn.jsdelivr.net/npm/three@0.155/examples/jsm/loaders/OBJLoader.js";

  const container = document.getElementById("viewer");

  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(
    45,
    container.clientWidth / container.clientHeight,
    0.1,
    1000
  );
  camera.position.set(0, 2, 5);

  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(container.clientWidth, container.clientHeight);
  container.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff, 0.7));
  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(5, 10, 7);
  scene.add(light);

  const controls = new OrbitControls(camera, renderer.domElement);

  const mtlLoader = new MTLLoader();
  mtlLoader.setPath("3d-assets/");
  mtlLoader.load("Jewel_CD.mtl", (materials) => {
    materials.preload();

    const objLoader = new OBJLoader();
    objLoader.setMaterials(materials);
    objLoader.setPath("3d-assets/");
    objLoader.load("Jewel_CD.obj", (object) => {
      scene.add(object);
    });
  });

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }
  animate();
</sc
