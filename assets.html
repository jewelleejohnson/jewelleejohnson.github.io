<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Assets</title>
  <style>
    body {
      font-family: 'Space Grotesk', system-ui, sans-serif;
      margin: 0;
      padding: 60px;
      color: #eaeaea;
      background: #111;
    }

    nav {
      margin-bottom: 40px;
    }

    nav a {
      margin-right: 28px;
      color: #eaeaea;
      text-decoration: none;
      font-weight: 500;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 14px;
    }

    nav a:hover {
      opacity: 0.6;
    }

    h1 {
      font-size: 36px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    #viewer {
      width: 100%;
      max-width: 800px;
      height: 500px;
      margin-top: 30px;
      border: 1px solid #555;
    }
  </style>
</head>

<body>
<nav>
  <a href="index.html">Home</a>
  <a href="assets.html">3D Assets</a>
  <a href="unity.html">Unity</a>
  <a href="av.html">Audiovisual</a>
  <a href="resume.html">Resume</a>
</nav>

<main>
  <h1>3D Assets</h1>
  <div id="viewer"></div>
</main>

<!-- Three.js + Loaders -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/loaders/MTLLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/loaders/OBJLoader.js"></script>

<script>
  const container = document.getElementById('viewer');
  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(
    75,
    container.clientWidth / container.clientHeight,
    0.1,
    1000
  );
  camera.position.set(0, 1, 10);

  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(container.clientWidth, container.clientHeight);
  container.appendChild(renderer.domElement);

  // Lights
  const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
  scene.add(ambientLight);

  const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
  directionalLight.position.set(5, 10, 7.5);
  scene.add(directionalLight);

  // Load MTL first
  const mtlLoader = new THREE.MTLLoader();
  mtlLoader.setPath('3d-assets/'); // folder where Jewel_CD.mtl is
  mtlLoader.load('Jewel_CD.mtl', function(materials){
      materials.preload();

      // Then load OBJ
      const objLoader = new THREE.OBJLoader();
      objLoader.setMaterials(materials);
      objLoader.setPath('3d-assets/'); // folder where Jewel_CD.obj is
      objLoader.load('Jewel_CD.obj', function(object){
          console.log("OBJ + MTL loaded!");
          scene.add(object);

          // Optional: scale/center
          object.scale.set(0.05, 0.05, 0.05);
          object.position.set(0, 0, 0);

          // Animate rotation
          function animate(){
              requestAnimationFrame(animate);
              object.rotation.y += 0.01;
              renderer.render(scene, camera);
          }
          animate();
      }, function(xhr){
          console.log((xhr.loaded/xhr.total*100) + '% loaded');
      }, function(err){
          console.error('Error loading OBJ:', err);
      });

  }, function(xhr){
      console.log((xhr.loaded/xhr.total*100) + '% MTL loaded');
  }, function(err){
      console.error('Error loading MTL:', err);
  });

  // Handle window resize
  window.addEventListener('resize', function(){
    camera.aspect = container.clientWidth / container.clientHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(container.clientWidth, container.clientHeight);
  });
</script>
</body>
</html>
